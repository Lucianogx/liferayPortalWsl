"use strict";
/**
 * SPDX-FileCopyrightText: Â© 2020 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */
Object.defineProperty(exports, "__esModule", { value: true });
const Probe_1 = require("./Probe");
/**
 * Reflects adapted project configuration
 */
class Adapt {
    constructor(project) {
        this._project = project;
    }
    get supported() {
        this._lazyInit();
        return this._supported;
    }
    /**
     * Project relative path of the build directory used by the underlying
     * project framework.
     */
    get buildDir() {
        this._lazyInit();
        return this._buildDir;
    }
    _lazyInit() {
        const { _project } = this;
        const { probe } = _project;
        switch (probe.type) {
            case Probe_1.ProjectType.ANGULAR_CLI:
                this._buildDir = _project.dir.join('dist');
                this._supported = true;
                break;
            case Probe_1.ProjectType.CREATE_REACT_APP:
                this._buildDir = _project.dir.join('build');
                this._supported = true;
                break;
            case Probe_1.ProjectType.VUE_CLI:
                this._buildDir = _project.dir.join('dist');
                this._supported = true;
                break;
            default:
                this._supported = false;
        }
    }
}
exports.default = Adapt;
