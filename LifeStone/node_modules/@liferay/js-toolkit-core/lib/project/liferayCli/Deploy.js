"use strict";
/**
 * SPDX-FileCopyrightText: Â© 2021 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const FilePath_1 = __importDefault(require("../../file/FilePath"));
const persist_1 = __importDefault(require("./persist"));
class Deploy {
    constructor(project, liferayJson) {
        var _a;
        this._project = project;
        if (((_a = liferayJson.deploy) === null || _a === void 0 ? void 0 : _a.path) === undefined) {
            this.dir = null;
        }
        else {
            this.dir = new FilePath_1.default(liferayJson.deploy.path, {
                posix: true,
            }).resolve();
        }
    }
    storeDir(deployDir) {
        this['dir'] = deployDir.resolve();
        (0, persist_1.default)(this._project, 'deploy', 'dir', { configProperty: 'path' });
    }
}
exports.default = Deploy;
