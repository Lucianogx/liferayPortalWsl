"use strict";
/**
 * SPDX-FileCopyrightText: Â© 2021 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const persist_1 = __importDefault(require("./persist"));
class Start {
    constructor(project, liferayJson) {
        var _a;
        this._project = project;
        let envPort = Number(process.env['PORT']);
        if (Number.isNaN(envPort)) {
            envPort = undefined;
        }
        this.port = envPort || ((_a = liferayJson.start) === null || _a === void 0 ? void 0 : _a.port) || 8081;
    }
    storePort(port) {
        this.port = port;
        (0, persist_1.default)(this._project, 'start', 'port');
    }
}
exports.default = Start;
